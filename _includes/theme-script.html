<script>
    function updateLogo() {
        const html = document.documentElement;
        const logo = document.getElementById('logo');
        const isLight = html.hasAttribute('data-theme');
        const currentLang = html.getAttribute('data-lang');
        
        if (isLight) {
            logo.src = `/assets/black_griffin_white_bg_clean_${currentLang}.png?v=20`;
        } else {
            logo.src = `/assets/white_griffin_black_bg_clean_${currentLang}.png?v=20`;
        }
    }
    
    function toggleTheme() {
        const html = document.documentElement;
        const isLight = html.hasAttribute('data-theme');
        
        if (isLight) {
            html.removeAttribute('data-theme');
            localStorage.setItem('theme', 'dark');
        } else {
            html.setAttribute('data-theme', 'light');
            localStorage.setItem('theme', 'light');
        }
        updateLogo();
        console.log('Theme toggled to:', isLight ? 'dark' : 'light');
    }
    
    function toggleLanguage() {
        const html = document.documentElement;
        const currentLang = html.getAttribute('data-lang');
        const currentPath = window.location.pathname;
        
        console.log('Current path:', currentPath);
        console.log('Current lang:', currentLang);
        
        // Define article URL mappings between languages
        const articleMappings = {
            // English to Hebrew mappings
            '/en/articles/four-stages-ai-transformation/': '/ai-transformation/organizational-change/four-stages-ai-transformation-he/',
            '/en/articles/organizational-agility-ai-era/': '/ai-transformation/organizational-change/organizational-agility-ai-era-he/',
            '/en/articles/side-by-side-work-paradigm/': '/ai-transformation/organizational-change/side-by-side-work-paradigm-he/',
            
            // Hebrew to English mappings
            '/ai-transformation/organizational-change/four-stages-ai-transformation-he/': '/en/articles/four-stages-ai-transformation/',
            '/ai-transformation/organizational-change/organizational-agility-ai-era-he/': '/en/articles/organizational-agility-ai-era/',
            '/ai-transformation/organizational-change/side-by-side-work-paradigm-he/': '/en/articles/side-by-side-work-paradigm/'
        };
        
        let targetUrl;
        
        // Check if current path is a mapped article
        if (articleMappings[currentPath]) {
            targetUrl = articleMappings[currentPath];
            console.log('Found article mapping, going to:', targetUrl);
        } else {
            // Default homepage navigation
            if (currentLang === 'he') {
                targetUrl = '/en/';
            } else {
                targetUrl = '/';
            }
            console.log('No article mapping found, going to homepage:', targetUrl);
        }
        
        console.log('Navigating to:', targetUrl);
        window.location.href = targetUrl;
    }
</script>